---
import type { Playlist } from '@/lib/data';
import { CardPlayButton } from './CardPlayButton';

interface Props {
  playlist: Playlist;
}

const { playlist } = Astro.props;
const { title, cover, artists, id } = playlist;

const artistsString = artists.join(', ');
---

<article
  class='group relative shadow-lg hover:shadow-xl bg-zinc-800 hover:bg-zinc-700 rounded-md ransi transition-all duration-100 ease-in-out'
>
  <div
    class=`absolute right-4 bottom-2
  transition-all duration-500 opacity-0
  group-hover:translate-y-0 group-hover:opacity-100
  z-10
`
  >
    <CardPlayButton id={id} client:visible />
  </div>
  <a
    href={`/playlist/${id}`}
    class='flex relative overflow-hidden items-center gap-5 rounded-md'
  >
    <picture class='size-16 flex-none'>
      <img
        src={cover}
        alt={`Cover of ${title} by ${artistsString}`}
        class='object-cover size-full'
      />
    </picture>

    <h4 class='text-white font-semibold truncate'>
      {title}
    </h4>
  </a>
</article>
