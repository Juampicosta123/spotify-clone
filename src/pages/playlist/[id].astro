---
import Layout from '../../layouts/Layout.astro';
import { allPlaylists, songs } from '@/lib/data';

const { id } = Astro.params;

const playlist = allPlaylists.find((playlist) => playlist.id === id);
const playlistSongs = songs.filter(
  (song) => song.albumId === playlist?.albumId
);
---

<Layout title='Spotify Clone' description='Spotify clone using Tailwind'>
  <div
    id='playlist-container'
    class='relative flex flex-col h-full bg-zinc-900 overflow-x-hidden mt-10'
    transition:name=`playlist ${id} box`
  >
    <!--Page Header -->
    <header class='flex gap-8 px-6 items-end'>
      <picture class='aspect-square size-60 flex-none'>
        <img
          src={playlist?.cover}
          alt={`Cover of ${playlist?.title}`}
          class='object-cover size-full shadow-lg'
          transition:name={`playlist ${id} image`}
        />
      </picture>
      <div class='flex flex-col gap-3'>
        <span class='text-sm'>Playlist</span>
        <h1
          class='text-6xl font-bold text-white'
          transition:name={`playlist ${id} title`}
        >
          {playlist?.title}
        </h1>
        <span class='mt-3 text-sm'>
          <span class='font-semibold'>{playlist?.owner} Â· 26 canciones,</span>
          <span class='text-gray-100'>cerca de 18h</span>
        </span>
      </div>
    </header>
    <div class='relative z-10 px-6 pt-10'></div>
    <div
      class='absolute -z-10 inset-0 bg-gradient-to-t from-zinc-900 via-zinc-900/80'
    >
    </div>
  </div>
</Layout>
